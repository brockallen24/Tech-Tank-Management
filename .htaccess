<IfModule mod_rewrite.c>
RewriteEngine On
RewriteBase /

# Don't rewrite actual files or directories
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Route API requests to api.php and stop processing
RewriteRule ^api\.php(.*)$ api.php$1 [QSA,L]

# Route HTML files first, don't rewrite them
RewriteCond %{REQUEST_FILENAME} !\.html$

# Route all other requests to index.php for HTML pages
RewriteRule ^(?!api\.php)(.*)$ index.php?page=$1 [QSA,L]
</IfModule>
